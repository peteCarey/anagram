<!DOCTYPE html>
<html>
  <body>
    <h2>Anagrams</h2>
    <p id="demo"></p>
    <script>
      let txt =
        "Jeff tried to study his education, but the room was so dusty he became stressed. So instead, he ate desserts and then was cautioned";
      document.getElementById("demo").innerHTML = txt;
      getAnagrams(txt);
      function getAnagrams(txt) {
        let res = txt.replace(/,/g, "");
        let newTxt = res.replace(".", "");
        let newTxtLowercase = newTxt.toLowerCase();
        let myStr = newTxtLowercase.split(" ");
        let sln = myStr.length;
        let anagrams = [];
        for (let j = 0; j < sln; j++) {
          for (let i = j + 1; i < sln; i++) {
            if (myStr[j].length == myStr[i].length) {
              let match = myStr[i];
              sortString(match);
              let firstWord = myStr[j]; // sort first word
              sortString(firstWord);
              if (sortString(match) == sortString(firstWord)) {
                let n = match.localeCompare(firstWord);
                if (n != 0) {
                  anagrams.push([myStr[i], myStr[j]]);
                }
              }
            } else {
              // console.log("no matches");
            }
          }
        }
        console.log(anagrams);
        return anagrams;
      }
      function sortString(str) {
        let arr = str.split("");
        let sorted = arr.sort();
        return sorted.join("");
      }
    </script>
  </body>
</html>
